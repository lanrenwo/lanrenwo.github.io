<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[今夜晚风]]></title>
  <subtitle><![CDATA[心有多大，舞台就有多大。]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://www.hongfanqu.com/"/>
  <updated>2016-03-31T08:21:48.486Z</updated>
  <id>http://www.hongfanqu.com/</id>
  
  <author>
    <name><![CDATA[lanrenwo]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[执行mvn sonar:sonar时报错]]></title>
    <link href="http://www.hongfanqu.com/2016/03/31/mvn_sonar/"/>
    <id>http://www.hongfanqu.com/2016/03/31/mvn_sonar/</id>
    <published>2016-03-31T05:29:00.000Z</published>
    <updated>2016-03-31T08:21:48.486Z</updated>
    <content type="html"><![CDATA[<p>自从Gitlab安装了sonar-gitlab-plugin插件后，我们结合Gitlab CI + mvn 对项目，进行自动化“代码质量分析”，可以很方便在评论中查看”分析报告”。<br>然而在试用SonarQube期间，发现它对服务器性能要求很高，所以最近我们将SonarQube迁移到新服务器，不过在执行mvn sonar:sonar命令时，却报错了，如下：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ mvn sonar:sonar</span><br><span class="line">[INFO] Scanning for projects...</span><br><span class="line">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom</span><br><span class="line">[WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:maven-clean-plugin:2.5: Plugin org.apache.maven.plugins:maven-clean-plugin:2.5 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-clean-plugin:jar:2.5</span><br><span class="line">Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-install-plugin/2.4/maven-install-plugin-2.4.pom</span><br><span class="line">[WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:maven-install-plugin:2.4: Plugin org.apache.maven.plugins:maven-install-plugin:2.4 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-install-plugin:jar:2.4</span><br></pre></td></tr></table></figure></p>
<p>经过不断的尝试，发现原来是Java版本过低，我们使用的是1.7.0_95，赶紧安装java-1.8.0，问题即迎刃而解:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ yum install java-1.8.0-openjdk</span><br></pre></td></tr></table></figure></p>
<p>============= hongfanqu END =================</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>自从Gitlab安装了sonar-gitlab-plugin插件后，我们结合Gitlab CI + mvn 对项目，进行自动化“代码质量分析”，可以很方便在评论中查看”分析报告”。<br>然而在试用SonarQube期间，发现它对服务器性能要求很高，所以最近我们将Sonar]]>
    </summary>
    
      <category term="mvn" scheme="http://www.hongfanqu.com/tags/mvn/"/>
    
      <category term="sonar" scheme="http://www.hongfanqu.com/tags/sonar/"/>
    
      <category term="gitlab" scheme="http://www.hongfanqu.com/tags/gitlab/"/>
    
      <category term="sonar-gitlab-plugin" scheme="http://www.hongfanqu.com/tags/sonar-gitlab-plugin/"/>
    
      <category term="运维架构" scheme="http://www.hongfanqu.com/categories/%E8%BF%90%E7%BB%B4%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[RTX发送点餐提醒]]></title>
    <link href="http://www.hongfanqu.com/2016/02/04/rtx-notify/"/>
    <id>http://www.hongfanqu.com/2016/02/04/rtx-notify/</id>
    <published>2016-02-04T06:03:38.000Z</published>
    <updated>2016-03-31T08:18:19.712Z</updated>
    <content type="html"><![CDATA[<p>我们公司大概从2008年开始使用RTX内部通讯工具，直到2014年团队才使用RTX的Web API，陆陆续续实现了请假、预定会议室、故障报告等RTX提醒，给工作带来了很多便利，唯独只剩下点餐提醒，一直没有使用，依然还是人工通过公司群，提醒大家点餐。</p>
<p>趁年末比较有空，好好研究了RTX SDK，从中发现了很多接口，最终顺利实现了自动发送点餐提醒。</p>
<p>下面给大家说一下具体业务代码：</p>
<ol>
<li><p><strong>设置消息内容：</strong><br>超链接的格式：[文本|链接|close]<br>close：可选项，代表单击链接后，顺便关闭提示框  </p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$msg       = <span class="string">"　　　　　　　　　　　　　　　　　　　　　"</span> <span class="comment">// 以\n开头无效，所以用空格填充换行</span></span><br><span class="line">            .<span class="string">"点餐截止时间在11:00，请童鞋们在此时间前完成点餐。 \n\n"</span></span><br><span class="line">            .<span class="string">"[立即进入点餐系统 &gt;&gt;|http://eat.cc/index.html|close]"</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>获取公司群里所有人员：</strong>  </p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 获取群组的ID</span></span><br><span class="line">$ObjApi          = <span class="keyword">new</span> COM(<span class="string">"Rtxserver.rtxobj"</span>);</span><br><span class="line">$RTXObj          = <span class="keyword">new</span> COM(<span class="string">'RTXSAPIRootObj.RTXSAPIRootObj'</span>);</span><br><span class="line">$DisGroupManager = $RTXObj-&gt;DisGroupManager;</span><br><span class="line">$group_id        = $DisGroupManager-&gt;GetDisGroupIdsByName(<span class="string">"公司群"</span>);</span><br><span class="line">$arry            = explode(<span class="string">'"'</span>, $group_id);</span><br><span class="line">$group_id        = $arry[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取群组的所有的用户</span></span><br><span class="line">$group_users = $DisGroupManager-&gt;GetDisGroupUsers($group_id);</span><br><span class="line">preg_match_all( <span class="string">"/\&lt;User\&gt;(.*?)\&lt;\/User\&gt;/"</span>, $group_users, $users);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>获取群里的在线人员：</strong></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 获取在线用户</span></span><br><span class="line"><span class="keyword">foreach</span> ($users[<span class="number">1</span>] <span class="keyword">as</span> $user) &#123;</span><br><span class="line">    $status = getStatus($ObjApi, $user);</span><br><span class="line">    <span class="keyword">if</span> ($status &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">continue</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    $online_users[] = $user;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">unset</span>($users);</span><br><span class="line">$receiver = implode(<span class="string">','</span>, $online_users);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * 获取某个用户是否在线</span><br><span class="line"> *</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStatus</span><span class="params">($ObjApi, $receiver)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    $state = <span class="number">-1</span>;</span><br><span class="line">    $objProp = <span class="keyword">new</span> COM(<span class="string">"Rtxserver.collection"</span>);</span><br><span class="line">    $objProp-&gt;Add(<span class="string">"Username"</span>, $receiver);</span><br><span class="line">    $Result  = @$ObjApi-&gt;Call2(<span class="number">0x2001</span>, $objProp);</span><br><span class="line">    $errstr  = $php_errormsg;</span><br><span class="line">    <span class="keyword">if</span> (strcmp($nullstr, $errstr) == <span class="number">0</span>) &#123;</span><br><span class="line">      $state = intVal($Result);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $state;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>大功告成！有图有真相：<br><img src="/upload/images/eat_notify.jpg" alt="rtx提醒"></p>
</li>
</ol>
<p>============= hongfanqu END =================</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>我们公司大概从2008年开始使用RTX内部通讯工具，直到2014年团队才使用RTX的Web API，陆陆续续实现了请假、预定会议室、故障报告等RTX提醒，给工作带来了很多便利，唯独只剩下点餐提醒，一直没有使用，依然还是人工通过公司群，提醒大家点餐。</p>
<p>趁年末比较]]>
    </summary>
    
      <category term="rtx" scheme="http://www.hongfanqu.com/tags/rtx/"/>
    
      <category term="notify" scheme="http://www.hongfanqu.com/tags/notify/"/>
    
      <category term="rtx群广播" scheme="http://www.hongfanqu.com/tags/rtx%E7%BE%A4%E5%B9%BF%E6%92%AD/"/>
    
      <category term="PHP编程" scheme="http://www.hongfanqu.com/categories/PHP%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[CentOS下配置SFTP操作日志]]></title>
    <link href="http://www.hongfanqu.com/2014/12/18/sftp-log/"/>
    <id>http://www.hongfanqu.com/2014/12/18/sftp-log/</id>
    <published>2014-12-18T08:54:00.000Z</published>
    <updated>2016-03-31T08:18:20.309Z</updated>
    <content type="html"><![CDATA[<p>SFTP操作日志的重要性，不言而喻，之前也找过资料，一直没找着……<br>今天同事又提过这事，伤心的我，又去找了找，果然是老天不负我，竟然给我找着了，感激流涕中……<br>不敢私藏，赶紧分享给大伙！同时感谢Caesar的技术支持！<br>1、修改SSH配置：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># vim /etc/ssh/sshd_config</span><br><span class="line">Subsystem       sftp    /usr/libexec/openssh/sftp-server -l INFO -f local5</span><br><span class="line">LogLevel INFO</span><br></pre></td></tr></table></figure></p>
<p>2、syslog.conf末尾增加一行：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># vim /etc/syslog.conf</span><br><span class="line">auth,authpriv.*,local5.* /var/log/sftp.log</span><br></pre></td></tr></table></figure></p>
<p>3、重新加载服务：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># /etc/init.d/syslog reload</span><br><span class="line"># /etc/init.d/sshd reload</span><br></pre></td></tr></table></figure></p>
<p>4、查看日志：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># tail -f /var/log/sftp.log</span><br><span class="line">Dec 18 16:41:56 localhost sftp-server[26998]: session opened for local user root from [192.168.1.9]</span><br><span class="line">Dec 18 16:42:11 localhost sftp-server[26998]: opendir &quot;/home/abc&quot;</span><br><span class="line">Dec 18 16:42:11 localhost sftp-server[26998]: closedir &quot;/home/abc&quot;</span><br></pre></td></tr></table></figure></p>
<p>参考资料： <a href="http://www.phpboy.net/linux/635.html" title="CENTOS 5.8 配置sftp用户（实现安全的文件远程上传与下载）及操作日志" target="_blank" rel="external">http://www.phpboy.net/linux/635.html</a><br>============= hongfanqu END =================</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>SFTP操作日志的重要性，不言而喻，之前也找过资料，一直没找着……<br>今天同事又提过这事，伤心的我，又去找了找，果然是老天不负我，竟然给我找着了，感激流涕中……<br>不敢私藏，赶紧分享给大伙！同时感谢Caesar的技术支持！<br>1、修改SSH配置：<br><fig]]>
    </summary>
    
      <category term="SFTP" scheme="http://www.hongfanqu.com/tags/SFTP/"/>
    
      <category term="syslog" scheme="http://www.hongfanqu.com/tags/syslog/"/>
    
      <category term="CentOS" scheme="http://www.hongfanqu.com/tags/CentOS/"/>
    
      <category term="运维架构" scheme="http://www.hongfanqu.com/categories/%E8%BF%90%E7%BB%B4%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[360前端公共库]]></title>
    <link href="http://www.hongfanqu.com/2014/12/07/360cdn/"/>
    <id>http://www.hongfanqu.com/2014/12/07/360cdn/</id>
    <published>2014-12-07T06:41:00.000Z</published>
    <updated>2016-03-31T08:19:07.708Z</updated>
    <content type="html"><![CDATA[<p>自从博客移至github pages后，心情也是大大的舒畅，妈妈从此再也不用担心我的学习了！<br>hexo架构的博客，也是极大的方便好用！light主题很漂亮，简洁，但是到了和谐的天朝，至于原因，你懂的….<br>不懂？那我还是普及一下吧：light使用的是googleapis的字体库和公共库，所以…<br>快去找救星吧！Keyman就是360提供的前端公共库CDN服务，你只要更改一个单词，就可以拥有它！<br>如果你也有此等烦恼，赶快行动吧^-^<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ajax.googleapis.com 替换为 ajax.useso.com</span><br><span class="line">&lt;script type=&apos;text/javascript&apos; src=&apos;http://ajax.useso.com/ajax/libs/jquery/1.7.2/jquery.min.js?ver=3.4.2&apos;&gt;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># fonts.googleapis.com 替换为 fonts.useso.com</span><br><span class="line">&lt;link href=&apos;http://fonts.useso.com/css?family=Open+Sans:300,400,600&amp;subset=latin,latin-ext&apos; rel=&apos;stylesheet&apos;&gt;</span><br></pre></td></tr></table></figure>
<p>感谢360cdn: <a href="http://libs.useso.com/" target="_blank" rel="external">http://libs.useso.com/</a><br>大功告成！<br>============= hongfanqu END =================</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>自从博客移至github pages后，心情也是大大的舒畅，妈妈从此再也不用担心我的学习了！<br>hexo架构的博客，也是极大的方便好用！light主题很漂亮，简洁，但是到了和谐的天朝，至于原因，你懂的….<br>不懂？那我还是普及一下吧：light使用的是googlea]]>
    </summary>
    
      <category term="360cdn" scheme="http://www.hongfanqu.com/tags/360cdn/"/>
    
      <category term="运维架构" scheme="http://www.hongfanqu.com/categories/%E8%BF%90%E7%BB%B4%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Apache Traffic Server(ATS)缓存Content-Length为0字节的问题]]></title>
    <link href="http://www.hongfanqu.com/2014/11/20/ats-content-length/"/>
    <id>http://www.hongfanqu.com/2014/11/20/ats-content-length/</id>
    <published>2014-11-20T05:23:03.000Z</published>
    <updated>2016-03-31T08:18:56.798Z</updated>
    <content type="html"><![CDATA[<p>　　自从公司内部的CDN，换成Nginx=&gt;Varnish=&gt;ATS的架构后，稳定性大大的加强了。<br>　　 Nginx通过hash解决了cache抖动的问题，Varnish的内存缓存非常的强大，可定制性太强了，很方便的content-length不等于0时，不缓存对象。<br>　　 ATS的中文文档太少了，再加上有童鞋建议使用lua来实现Content-Length的问题，让我头痛不已。<br>　　其实ATS可以通过配置参数，来实现不缓存Content-Length为0的对象，配置参数如下：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#是否缓存Content-Length为0的缓存，默认值为1</span><br><span class="line">CONFIG proxy.config.http.cache.allow_empty_doc INT 0</span><br></pre></td></tr></table></figure></p>
<p>大功告成！<br>============= hongfanqu END =================</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>　　自从公司内部的CDN，换成Nginx=&gt;Varnish=&gt;ATS的架构后，稳定性大大的加强了。<br>　　 Nginx通过hash解决了cache抖动的问题，Varnish的内存缓存非常的强大，可定制性太强了，很方便的content-length不等于0时，]]>
    </summary>
    
      <category term="ats" scheme="http://www.hongfanqu.com/tags/ats/"/>
    
      <category term="content-length" scheme="http://www.hongfanqu.com/tags/content-length/"/>
    
      <category term="运维架构" scheme="http://www.hongfanqu.com/categories/%E8%BF%90%E7%BB%B4%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[iCombo开源喽！ Lua版minify，合并CSS、JS文件、减少连接数。]]></title>
    <link href="http://www.hongfanqu.com/2014/11/19/icombo/"/>
    <id>http://www.hongfanqu.com/2014/11/19/icombo/</id>
    <published>2014-11-19T05:22:52.000Z</published>
    <updated>2016-03-31T08:18:18.643Z</updated>
    <content type="html"><![CDATA[<p>iCombo提供比Minify、concat模块更好的并发性能，iCombo，你值得拥有！<br>目前在10万PV的网站稳定使用3个月，即将在3百万PV的网站上线，敬请期待！<br>欢迎提出建议，QQ讨论群：38390139</p>
<p>[特性]<br>1、兼容minify的 f 参数，如 ?f=1.css,2.css,3.css<br>2、可以将图片的相对路径，替换为域名的方式<br>3、压缩CSS的代码（删除注释、换行、精简颜色等）<br>4、一键删除服务器的所有缓存文件<br>5、错误日志记录</p>
<p>[环境要求]<br>Nginx: 1.6+<br>Ngx_lua: 0.9.12+<br>LUAJIT: 2.0.2+</p>
<p>[感谢]<br>感谢Nginx <a href="http://nginx.org" target="_blank" rel="external">http://nginx.org</a><br>感谢LuaJIT <a href="http://luajit.org" target="_blank" rel="external">http://luajit.org</a><br>感谢春哥 <a href="http://www.weibo.com/agentzh" target="_blank" rel="external">http://www.weibo.com/agentzh</a></p>
<p>[代码仓库]<br>Github仓库： <a href="https://github.com/lanrenwo/icombo" target="_blank" rel="external">https://github.com/lanrenwo/icombo</a><br>OSChina仓库：<a href="http://git.oschina.net/phpcleps/icombo" target="_blank" rel="external">http://git.oschina.net/phpcleps/icombo</a></p>
<p>同时欢迎加入QQ讨论群：38390139</p>
<p>============= hongfanqu END =================</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>iCombo提供比Minify、concat模块更好的并发性能，iCombo，你值得拥有！<br>目前在10万PV的网站稳定使用3个月，即将在3百万PV的网站上线，敬请期待！<br>欢迎提出建议，QQ讨论群：38390139</p>
<p>[特性]<br>1、兼容minif]]>
    </summary>
    
      <category term="icombo" scheme="http://www.hongfanqu.com/tags/icombo/"/>
    
      <category term="lua" scheme="http://www.hongfanqu.com/tags/lua/"/>
    
      <category term="个人作品" scheme="http://www.hongfanqu.com/categories/%E4%B8%AA%E4%BA%BA%E4%BD%9C%E5%93%81/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Ubuntu安装php5]]></title>
    <link href="http://www.hongfanqu.com/2014/06/03/ubuntu-php5/"/>
    <id>http://www.hongfanqu.com/2014/06/03/ubuntu-php5/</id>
    <published>2014-06-03T05:22:39.000Z</published>
    <updated>2016-03-31T08:18:21.226Z</updated>
    <content type="html"><![CDATA[<h2 id="1_u3001_u5B89_u88C5php5_uFF1A"><a href="#1_u3001_u5B89_u88C5php5_uFF1A" class="headerlink" title="1、安装php5："></a>1、安装php5：</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apt-get install php5-fpm</span><br></pre></td></tr></table></figure>
<h2 id="2_u3001_u5B89_u88C5phpize_uFF1A"><a href="#2_u3001_u5B89_u88C5phpize_uFF1A" class="headerlink" title="2、安装phpize："></a>2、安装phpize：</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apt-get install php5-dev</span><br></pre></td></tr></table></figure>
<h2 id="3_u3001_u67E5_u770B_u7ED3_u679C_uFF1A"><a href="#3_u3001_u67E5_u770B_u7ED3_u679C_uFF1A" class="headerlink" title="3、查看结果："></a>3、查看结果：</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ll /usr/bin/php</span><br><span class="line">php php5 php-config php-config5 phpize phpize5</span><br></pre></td></tr></table></figure>
<h2 id="4_u3001_u5E38_u7528_u547D_u4EE4_uFF1A"><a href="#4_u3001_u5E38_u7528_u547D_u4EE4_uFF1A" class="headerlink" title="4、常用命令："></a>4、常用命令：</h2><p>启动php5-fpm<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/etc/init.d/php5-fpm start</span><br></pre></td></tr></table></figure></p>
<p>============= hongfanqu END =================</p>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="1_u3001_u5B89_u88C5php5_uFF1A"><a href="#1_u3001_u5B89_u88C5php5_uFF1A" class="headerlink" title="1、安装php5："></a>1、安装php5：</h2><figu]]>
    </summary>
    
      <category term="ubuntu" scheme="http://www.hongfanqu.com/tags/ubuntu/"/>
    
      <category term="php5" scheme="http://www.hongfanqu.com/tags/php5/"/>
    
      <category term="运维架构" scheme="http://www.hongfanqu.com/categories/%E8%BF%90%E7%BB%B4%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[wget报File name too long]]></title>
    <link href="http://www.hongfanqu.com/2014/05/23/filename-too-long/"/>
    <id>http://www.hongfanqu.com/2014/05/23/filename-too-long/</id>
    <published>2014-05-23T05:22:26.000Z</published>
    <updated>2016-03-31T08:18:17.745Z</updated>
    <content type="html"><![CDATA[<p>最近在研究Weed-FS，没想到，下载这一步，就遇到了问题，提示File name too long！<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># wget http://dl.bintray.com/chrislusf/Weed-FS/weed_0.58_linux_amd64.tar.gz</span><br><span class="line">--2014-03-29 10:15:02-- http://dl.bintray.com/chrislusf/Weed-FS/weed_0.58_linux_amd64.tar.gz</span><br><span class="line">Resolving dl.bintray.com... 108.168.194.92, 108.168.194.91</span><br><span class="line">Connecting to dl.bintray.com|108.168.194.92|:80... connected.</span><br><span class="line">HTTP request sent, awaiting response... 302</span><br><span class="line">....</span><br><span class="line">...</span><br><span class="line">... 4M5VTQ&apos; (File name too long)</span><br></pre></td></tr></table></figure></p>
<p>赶紧Google一下，你就知道。<br>原来答案是如此的简单，真是孤陋寡闻，真得好好学习，天天向上。<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget -O weedfs.tar.gz http://dl.bintray.com/chrislusf/Weed-FS/weed_0.58_linux_amd64.tar.gz</span><br></pre></td></tr></table></figure></p>
<p>============= hongfanqu END =================</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>最近在研究Weed-FS，没想到，下载这一步，就遇到了问题，提示File name too long！<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line]]>
    </summary>
    
      <category term="wget" scheme="http://www.hongfanqu.com/tags/wget/"/>
    
      <category term="weed-fs" scheme="http://www.hongfanqu.com/tags/weed-fs/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[php的慢速日志引起的Mysql错误]]></title>
    <link href="http://www.hongfanqu.com/2014/05/13/php-slow/"/>
    <id>http://www.hongfanqu.com/2014/05/13/php-slow/</id>
    <published>2014-05-13T05:13:00.000Z</published>
    <updated>2016-03-31T08:18:19.157Z</updated>
    <content type="html"><![CDATA[<p>　在我们的项目中，开启PHP的慢速日志（request_slowlog_timeout = 10s）是必选项，并且它也让我们发现了很多坑，解决了很多的性能问题。</p>
<p> 　昨天由于碰到了一个非常奇怪的问题，让我们不得不关闭PHP慢速日志，问题是什么呢？</p>
<p>　问题：程序会报 2013(Lost connection to MySQL server during query)<br>　 分析：<br>　　1）在我们的后台程序中，会执行一个循环（&gt;300次），循环中会重复执行一条SQL语句；<br>　　2）Nginx的访问日志，程式每次执行时间，都在12秒左右；<br>　　3）修改mysql连接类，query之前，执行mysql_ping也无效，问题依旧；</p>
<p>　正当百思不得其解时，心想，关闭一下php慢速日志试试，后来的情况，可想而知，问题竟然好了….</p>
<p>　至于神马原因，我真的不知道，求真相！</p>
<p>============= hongfanqu END =================</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>　在我们的项目中，开启PHP的慢速日志（request_slowlog_timeout = 10s）是必选项，并且它也让我们发现了很多坑，解决了很多的性能问题。</p>
<p> 　昨天由于碰到了一个非常奇怪的问题，让我们不得不关闭PHP慢速日志，问题是什么呢？</p>
<p]]>
    </summary>
    
      <category term="php" scheme="http://www.hongfanqu.com/tags/php/"/>
    
      <category term="request_slowlog_time" scheme="http://www.hongfanqu.com/tags/request-slowlog-time/"/>
    
      <category term="php慢速日志" scheme="http://www.hongfanqu.com/tags/php%E6%85%A2%E9%80%9F%E6%97%A5%E5%BF%97/"/>
    
      <category term="mysql" scheme="http://www.hongfanqu.com/tags/mysql/"/>
    
      <category term="PHP编程" scheme="http://www.hongfanqu.com/categories/PHP%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[ATS（Apache Traffic Server 4.2）配置SSL]]></title>
    <link href="http://www.hongfanqu.com/2014/03/31/ats_ssl/"/>
    <id>http://www.hongfanqu.com/2014/03/31/ats_ssl/</id>
    <published>2014-03-31T04:59:35.000Z</published>
    <updated>2016-03-31T08:18:54.618Z</updated>
    <content type="html"><![CDATA[<p>截止到现在，我们的网站使用 ATS 已经有2年多的时间了，ATS能够非常高效的解决我们的问题，赞一个。</p>
<p>　由于网站增加了https的访问，原以为配置SSL应该挺简单，后来才知道，英文水平太菜，导致走了很多弯路。</p>
<p>　下面列一下我配置的步骤：<br>　　系统：CentOS<br>　　ATS：4.2版本</p>
<p>　一、修改 records.config：<br>　　开放 443 端口访问<br>   <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CONFIG proxy.config.http.server_ports STRING 80:ipv4 443:ipv4:ssl</span><br></pre></td></tr></table></figure></p>
<p>　二、修改 remap.config：<br>   <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">map https://photo.xxx.com.tw/ https://xxx.xxx.xxx.xxx/</span><br></pre></td></tr></table></figure></p>
<p>　三、修改 ssl_multicert.config：<br>   <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dest_ip=* ssl_cert_name=xxx.cert.crt ssl_key_name=xxx.cert.key</span><br></pre></td></tr></table></figure></p>
<p>　四、大功告成，重启ATS。</p>
<p>============= hongfanqu END =================</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>截止到现在，我们的网站使用 ATS 已经有2年多的时间了，ATS能够非常高效的解决我们的问题，赞一个。</p>
<p>　由于网站增加了https的访问，原以为配置SSL应该挺简单，后来才知道，英文水平太菜，导致走了很多弯路。</p>
<p>　下面列一下我配置的步骤：<br>]]>
    </summary>
    
      <category term="运维架构" scheme="http://www.hongfanqu.com/tags/%E8%BF%90%E7%BB%B4%E6%9E%B6%E6%9E%84/"/>
    
      <category term="运维架构" scheme="http://www.hongfanqu.com/categories/%E8%BF%90%E7%BB%B4%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
</feed>
